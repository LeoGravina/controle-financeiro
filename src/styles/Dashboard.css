/* === IMPORTAÇÕES E VARIÁVEIS GLOBAIS === */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display.swap');

:root {
  /* Cores Principais */
  --primary-color: #6a82fb; --primary-hover: #5c6bc0; --primary-light: #eef2ff;
  /* Cores Semânticas */
  --income-color: #27ae60; --income-bg-light: #e8f8f5; --expense-color: #e74c3c;
  --expense-bg-light: #fdeded; --pending-color: #f39c12; --pending-bg-light: #fef5e7;
  /* Cores Neutras */
  --balance-color: #34495e; --bg-color: #f8f9fc; --card-bg-color: #ffffff;
  --text-color: #212529; --text-light-color: #6c757d; --border-color: #dee2e6;
  --input-bg-color: #f1f3f5;
  /* Sombras e Bordas */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.05); --shadow-md: 0 6px 15px rgba(0,0,0,0.08);
  --shadow-lg: 0 10px 30px rgba(0,0,0,0.1); --shadow-focus: 0 0 0 3px rgba(106, 130, 251, 0.25);
  --border-radius-sm: 6px; --border-radius-md: 10px; --border-radius-lg: 16px;
  /* Transições */
  --transition-fast: 0.15s ease-in-out; --transition-std: 0.25s ease-in-out;
}

/* === BASE E RESET === */
body { margin: 0; font-family: 'Inter', sans-serif; background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; overflow-x: hidden; width: 100%; }
*, *::before, *::after { box-sizing: border-box; }

/* === LAYOUT PRINCIPAL === */
.dashboard-container { padding: 30px; max-width: 1400px; margin: 30px auto; }
.main-layout { display: grid; grid-template-columns: 380px 1fr; gap: 35px; margin-top: 30px; }

/* --- SIDEBAR CORRIGIDA (SEPARAÇÃO DOS BLOCOS) --- */
.sidebar { 
    display: flex; 
    flex-direction: column; 
    gap: 30px !important; /* Força o espaçamento entre os blocos */
}

/* Regra de segurança: Se o gap falhar, adiciona margem no topo dos irmãos */
.sidebar > * + * {
    margin-top: 0; /* O gap já cuida disso, mas reseta margens nativas */
}

.content { display: flex; flex-direction: column; min-width: 0; }

/* Wrapper que une as Abas com o Formulário (Para ficarem grudados) */
.sidebar-main-widget { display: flex; flex-direction: column; }

/* === CABEÇALHO === */
header { margin-bottom: 35px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; border-bottom: 1px solid var(--border-color); padding-bottom: 25px; }
header h1 { font-size: 2.2rem; margin: 0; color: var(--primary-color); font-weight: 700; letter-spacing: -1px; }
.header-controls { display: flex; align-items: center; gap: 20px; }
.signout-button { background-color: var(--expense-color); color: white; border: none; padding: 10px 20px; border-radius: var(--border-radius-md); cursor: pointer; font-weight: 600; font-size: 0.9rem; transition: all var(--transition-std); box-shadow: var(--shadow-sm); }
.signout-button:hover { background-color: #c0392b; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(231, 76, 60, 0.3); }

/* === NAVEGADOR DE MÊS === */
.month-navigator { display: flex; justify-content: center; align-items: center; gap: 15px; background-color: var(--card-bg-color); padding: 10px 20px; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-sm); }
.month-navigator h2 { margin: 0; color: var(--text-color); text-transform: capitalize; font-size: 1.3rem; font-weight: 600; min-width: 200px; text-align: center; white-space: nowrap; }
.month-navigator button { background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: var(--border-radius-md); cursor: pointer; font-weight: 500; font-size: 1rem; transition: all var(--transition-std); display: flex; align-items: center; justify-content: center; }
.month-navigator button:hover { background-color: var(--primary-hover); transform: translateY(-2px); box-shadow: 0 3px 6px rgba(106, 130, 251, 0.3); }

/* === CARDS DE RESUMO === */
.summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 25px; margin-bottom: 40px; }
.summary-card { background: var(--card-bg-color); padding: 25px; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); transition: all var(--transition-std); border-left: 6px solid; position: relative; }
.summary-card.clickable { cursor: pointer; } 
.summary-card.clickable:not(.active):hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); }
.summary-card.active { transform: translateY(-5px) scale(1.02); box-shadow: 0 12px 25px rgba(106, 130, 251, 0.2); border-left-width: 8px; }
.summary-card[data-type="income"] { border-left-color: var(--income-color); }
.summary-card[data-type="expense"] { border-left-color: var(--expense-color); }
.summary-card[data-type="balance"] { border-left-color: var(--primary-color); } .summary-card[data-type="balance"].negative { border-left-color: var(--expense-color); }
.summary-card p { margin: 0 0 10px 0; color: var(--text-light-color); font-size: 0.9rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
.summary-card span { font-size: 2.1rem; font-weight: 700; display: block; letter-spacing: -0.5px; }
.summary-card[data-type="income"] span { color: var(--income-color); } .summary-card[data-type="expense"] span { color: var(--expense-color); }
.summary-card[data-type="balance"] span { color: var(--primary-color); } .summary-card[data-type="balance"].negative span { color: var(--expense-color); }

/* === CONTAINERS GENÉRICOS (ESTILO CARD) === */
.card-style, .form-container, .charts-grid .chart-item, 
.category-manager, 
.fixed-expenses-manager, 
.budget-manager, 
.goal-manager, 
.budget-progress-container, 
.goal-progress-container 
{ 
  background: var(--card-bg-color); padding: 30px; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md);
}

.list-container {
  background: var(--card-bg-color); padding: 0 30px 30px 30px; border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-md); display: flex; flex-direction: column; max-height: 100%;
}
h3, h4 { margin-top: 0; color: var(--text-color); font-weight: 600; }
h3 { border-bottom: 1px solid var(--border-color); padding-bottom: 15px; margin-bottom: 25px; font-size: 1.3rem; }
h4 { font-size: 1.1rem; margin-bottom: 20px; }

/* === FORMULÁRIOS E INPUTS === */
form { display: flex; flex-direction: column; gap: 16px; }
input[type="text"], input[type="date"], input[type="number"], .currency-input {
  padding: 12px 16px; border-radius: var(--border-radius-md); border: 1px solid var(--border-color); font-size: 0.95rem;
  font-family: 'Inter', sans-serif; transition: all var(--transition-std); background-color: var(--input-bg-color); color: var(--text-color); width: 100%; box-sizing: border-box;
}
input:focus, .currency-input:focus { outline: none; border-color: var(--primary-color); box-shadow: none; background-color: #ffffff; }
.form-row { display: flex; gap: 15px; }
.form-row .react-select-container, .form-row .currency-input { flex: 1; width: 0; }
.submit-button { padding: 14px; border-radius: var(--border-radius-md); border: none; background: var(--primary-color); color: white; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all var(--transition-std); box-shadow: 0 4px 10px rgba(106, 130, 251, 0.2); }
.submit-button:hover { background-color: var(--primary-hover); transform: translateY(-2px); box-shadow: 0 6px 12px rgba(106, 130, 251, 0.3); }
.installment-section { display: flex; align-items: center; justify-content: space-between; gap: 15px; background-color: var(--input-bg-color); padding: 10px 15px; border-radius: var(--border-radius-md); border: 1px solid var(--border-color); }
.installment-section label { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: var(--text-light-color); cursor: pointer; }
.installment-section input[type="checkbox"] { width: 18px; height: 18px; accent-color: var(--primary-color); cursor: pointer; margin: 0; }
.installment-input-wrapper { display: flex; align-items: center; gap: 5px; color: var(--text-light-color); }
.installment-section input[type="number"] { width: 60px; padding: 8px; font-size: 0.95rem; text-align: center; background-color: #ffffff; -moz-appearance: textfield; border-radius: var(--border-radius-sm); }
.form-date-picker { display: flex; align-items: center; gap: 8px; border: 1px solid transparent; background-color: transparent; border-radius: var(--border-radius-md); padding: 8px 12px; color: var(--text-light-color); transition: all var(--transition-fast); }
.form-date-picker:hover { background-color: var(--input-bg-color); border-color: var(--border-color); }
.form-date-picker input[type="date"] { border: none; font-size: 0.9rem; background-color: transparent; padding: 0; margin: 0; }
.form-container-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); padding-bottom: 15px; margin-bottom: 20px; }
.form-container-header h3 { margin-bottom: 0; border: none; padding: 0; }

/* === BOTÕES DE TOGGLE GANHO/GASTO === */
.type-toggle-container { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
.type-toggle-button { display: flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 15px; border-radius: var(--border-radius-md); border: 1px solid var(--border-color); background-color: var(--card-bg-color); color: var(--text-light-color); font-size: 0.95rem; font-weight: 500; cursor: pointer; transition: all var(--transition-std); }
.type-toggle-button.active { font-weight: 600; box-shadow: var(--shadow-sm); }
.type-toggle-button.income.active { background-color: var(--income-bg-light); border-color: var(--income-color); color: var(--income-color); }
.type-toggle-button.expense.active { background-color: var(--expense-bg-light); border-color: var(--expense-color); color: var(--expense-color); }

/* === ABAS (SIDEBAR) === */
.sidebar-tabs, .transaction-view-tabs { display: flex; gap: 0; margin-bottom: 0; position: relative; z-index: 1; border-bottom: 1px solid var(--border-color); }
.sidebar-tab-button, .tab-button { flex: 1; padding: 12px 15px; border: 1px solid transparent; border-bottom: none; background-color: transparent; color: var(--text-light-color); border-radius: var(--border-radius-md) var(--border-radius-md) 0 0; cursor: pointer; font-weight: 500; font-size: 0.95rem; text-align: center; transition: all var(--transition-std); position: relative; bottom: -1px; margin-right: 3px; }
.tab-button { flex: 0 1 auto; font-size: 1rem; padding: 12px 25px; }
.sidebar-tab-button.active, .tab-button.active { background-color: var(--card-bg-color); color: var(--primary-color); font-weight: 600; border-color: var(--border-color); border-bottom-color: var(--card-bg-color); z-index: 2; box-shadow: none; }
.sidebar-content-container { border: 1px solid var(--border-color); border-top: none; border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg); margin-top: -1px; box-shadow: var(--shadow-md); padding: 30px; background-color: var(--card-bg-color); }
.sidebar-content-container .form-container, .sidebar-content-container .fixed-expenses-manager, .sidebar-content-container .budget-manager, .sidebar-content-container .goal-manager { box-shadow: none; border-radius: 0; border: none; padding-top: 0; padding-bottom: 0; height: 100%; padding: 0; }
.transaction-view-tabs + .list-container { border-top: none; border-top-left-radius: 0; border-top-right-radius: 0; margin-top: -1px; }

/* === GERENCIADORES (CATEGORIA E GASTOS FIXOS) === */
.category-form { 
    display: grid; 
    grid-template-columns: 1fr 50px; 
    gap: 10px; 
    margin-bottom: 25px; 
    align-items: center; 
}
.category-form input[type="text"] { width: 100%; }
.category-form input[type="color"] { 
    width: 100%; height: 46px; 
    border-radius: var(--border-radius-md); border: 1px solid var(--border-color); 
    padding: 0; cursor: pointer; background-color: transparent; appearance: none; 
}
.category-form input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; } 
.category-form input[type="color"]::-webkit-color-swatch { border: none; border-radius: var(--border-radius-sm); }
.category-form .submit-button { grid-column: 1 / -1; width: 100%; margin-top: 5px; }

.fixed-expense-form { display: flex; flex-direction: column; gap: 15px; margin-bottom: 25px; }
.fixed-expense-form .submit-button { width: 100%; height: auto; padding: 14px; font-size: 1rem; }
.day-picker { display: flex; align-items: center; gap: 10px; background-color: var(--input-bg-color); padding: 10px 15px; border-radius: var(--border-radius-md); border: 1px solid var(--border-color); }
.day-picker label { color: var(--text-light-color); font-size: 0.9rem; white-space: nowrap; }
.day-picker input[type="number"] { width: 70px; padding: 8px 10px; background-color: white; }

/* === LISTAS GERAIS === */
.category-list, .fixed-expense-list, .goal-list { list-style: none; padding: 0; margin: 0; max-height: 250px; overflow-y: auto; }
.category-list li, .fixed-expense-list li, .goal-list li { display: flex; align-items: center; padding: 12px 10px; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: background-color var(--transition-fast); justify-content: space-between; }
.category-list li:hover, .fixed-expense-list li:hover, .goal-list li:hover { background-color: var(--primary-light); }
.category-name-wrapper { flex-grow: 1; display: flex; align-items: center; font-weight: 500; }
.expense-info, .goal-info { flex-grow: 1; display: flex; flex-direction: column; }
.color-dot { height: 12px; width: 12px; border-radius: 50%; display: inline-block; margin-right: 12px; border: 1px solid rgba(0,0,0,0.1); flex-shrink: 0; }

/* === BOTÕES DE AÇÃO === */
.action-button, .delete-button { background: none; border: none; cursor: pointer; line-height: 1; padding: 6px; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; transition: all var(--transition-fast); color: var(--text-light-color); }
.action-button { font-size: 1.1rem; }
.delete-button { font-size: 1.5rem; font-weight: bold; opacity: 0; margin-left: auto; }
.category-list li:hover .delete-button, .fixed-expense-list li:hover .delete-button, .goal-list li:hover .delete-button, .list-container li:hover .delete-button { opacity: 0.6; }
.delete-button:hover { opacity: 1; background-color: var(--expense-bg-light); color: var(--expense-color); transform: scale(1.1); }

/* === METAS === */
.goal-progress-list { list-style: none; padding: 0; margin: 0; }
.goal-progress-item { padding: 15px 0; border-bottom: 1px solid var(--border-color); }
.goal-item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.goal-item-name { font-weight: 600; font-size: 1rem; }
.goal-item-actions { display: flex; gap: 8px; }
.add-to-goal-button, .withdraw-from-goal-button { padding: 6px 12px; border-radius: 6px; border: 1px solid transparent; font-size: 0.8rem; font-weight: 600; cursor: pointer; transition: all 0.2s; }
.add-to-goal-button { background-color: var(--income-bg-light); color: var(--income-color); border-color: rgba(39, 174, 96, 0.2); }
.add-to-goal-button:hover { background-color: #d1f2eb; transform: translateY(-1px); }
.withdraw-from-goal-button { background-color: var(--expense-bg-light); color: var(--expense-color); border-color: rgba(231, 76, 60, 0.2); }
.withdraw-from-goal-button:hover { background-color: #fbd7d7; transform: translateY(-1px); }
.progress-bar-container { height: 8px; background-color: #e9ecef; border-radius: 4px; overflow: hidden; margin: 8px 0; }
.progress-bar-fill { height: 100%; transition: width 0.5s ease; }
.goal-item-values-container { display: flex; justify-content: space-between; font-size: 0.85rem; color: var(--text-light-color); }

/* === LISTA DE TRANSAÇÕES === */
.list-container-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; padding: 30px 0 20px 0; border-bottom: 1px solid var(--border-color); margin-bottom: 15px; }
.transaction-list-filters { display: flex; gap: 15px; flex-grow: 1; justify-content: flex-end; }
.filter-input { flex-grow: 1; min-width: 150px; }
.list-container ul { list-style: none; padding: 0; margin: 0; flex-grow: 1; }
.list-container li { display: flex; align-items: center; gap: 10px; padding: 15px; border-bottom: 1px solid var(--border-color); background-color: #ffffff; transition: background-color var(--transition-fast); border-left: 5px solid transparent; }
.list-container li:last-child { border-bottom: none; }
.list-container li.income-row { background-color: var(--income-bg-light); border-left-color: var(--income-color); }
.list-container li.unpaid-expense-row { background-color: var(--expense-bg-light); border-left-color: var(--expense-color); }
.list-container li.paid-expense-row { background-color: var(--primary-light); border-left-color: #a5b4fc; opacity: 0.8; }
.transaction-clickable-area { flex-grow: 1; display: flex; align-items: center; gap: 10px; cursor: pointer; }
.transaction-details { display: flex; flex-direction: column; gap: 2px; flex-grow: 1; }
.transaction-details span { font-weight: 500; font-size: 1rem; }
.transaction-details small { color: var(--text-light-color); font-size: 0.8rem; }
.transaction-amount { font-weight: 600; font-size: 1rem; margin-left: auto; white-space: nowrap; }
.transaction-amount.income { color: var(--income-color); } .transaction-amount.expense { color: var(--expense-color); }
.paid-status-wrapper { display: flex; align-items: center; z-index: 5; position: relative; margin-right: 10px; }
.paid-status-toggle { position: relative; width: 20px; height: 20px; cursor: pointer; flex-shrink: 0; }
.paid-status-toggle input { opacity: 0; width: 0; height: 0; }
.checkmark { position: absolute; inset: 0; background-color: #eee; border-radius: 4px; border: 1px solid #ccc; }
.paid-status-toggle input:checked ~ .checkmark { background-color: var(--primary-color); border-color: var(--primary-color); }
.checkmark:after { content: ""; position: absolute; display: none; left: 6px; top: 2px; width: 5px; height: 10px; border: solid white; border-width: 0 3px 3px 0; transform: rotate(45deg); }
.paid-status-toggle input:checked ~ .checkmark:after { display: block; }
.mobile-checkbox-label { display: none; margin-left: 8px; font-size: 0.9rem; color: var(--text-light-color); font-weight: 500; }

/* === MODAIS === */
.modal-overlay { position: fixed; inset: 0; background: rgba(30, 41, 59, 0.8); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s; }
.modal-overlay.open { opacity: 1; visibility: visible; }
.modal-content { background: #ffffff; padding: 35px 40px; border-radius: var(--border-radius-lg); width: 100%; max-width: 450px; transform: scale(0.95) translateY(10px); opacity: 0; transition: transform 0.3s, opacity 0.3s; }
.modal-overlay.open .modal-content { transform: scale(1) translateY(0); opacity: 1; }
.modal-actions { display: flex; justify-content: flex-end; gap: 15px; margin-top: 20px; }
.modal-button { padding: 12px 25px; border: none; border-radius: var(--border-radius-md); font-size: 1rem; font-weight: 600; cursor: pointer; transition: all var(--transition-std); }
.modal-button.cancel { background-color: #e9ecef; color: var(--text-light-color); }
.modal-button.confirm { background-color: var(--expense-color); color: white; }
.modal-actions-stacked { flex-direction: column; align-items: stretch; }
.modal-actions-stacked .modal-button { width: 100%; margin-bottom: 10px; }

/* EDIT CATEGORY MODAL (DEFAULT DESKTOP) */
.edit-category-inline-form { display: flex; align-items: center; gap: 15px; }
.edit-category-inline-form input[type="text"] { flex-grow: 1; width: auto; }
.edit-category-inline-form .edit-category-color-picker { width: 45px; height: 45px; border-radius: var(--border-radius-md); border: 1px solid var(--border-color); padding: 0; cursor: pointer; flex-shrink: 0; background-color: transparent; appearance: none; }

/* === MOBILE PREMIUM (Max Width 900px) === */
.fab-container { display: none; }

@media (max-width: 900px) {
  /* LAYOUT */
  .dashboard-container { padding: 15px; margin: 0; max-width: 100vw; overflow-x: hidden; }
  .main-layout { grid-template-columns: 1fr; margin-top: 15px; gap: 15px; }
  .sidebar, .charts-grid { display: none !important; }

  /* HEADER */
  header { flex-direction: column; gap: 15px; margin-bottom: 20px; text-align: center; }
  .header-controls { flex-direction: column-reverse; width: 100%; gap: 10px; }
  .month-navigator { width: 100%; justify-content: space-between; }
  .month-navigator h2 { width: auto; min-width: unset; font-size: 1.1rem; }
  .signout-button { width: 100%; }

  /* CARDS DE RESUMO */
  .summary-grid { grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
  .summary-card { padding: 15px; }
  .summary-card span { font-size: 1.3rem; }
  .summary-card p { font-size: 0.75rem; margin-bottom: 5px; }

  /* LISTA DE TRANSAÇÕES */
  .list-container { padding: 0; background: transparent; box-shadow: none; overflow-x: auto; width: 100%; }
  .list-container ul { min-width: 100%; width: 100%; }
  .list-container-header { background: #fff; padding: 15px; border-radius: 16px; margin-bottom: 15px; flex-direction: column; align-items: stretch; }
  .transaction-list-filters { flex-direction: column; }
  
  .list-container li { 
      flex-direction: column; align-items: flex-start; 
      background: #fff; border-radius: 16px; padding: 20px; margin-bottom: 12px; 
      border: 1px solid var(--border-color); border-left-width: 6px; 
      position: relative; white-space: normal;
  }
  .transaction-clickable-area { width: 100%; flex-direction: column; align-items: flex-start; gap: 5px; }
  .transaction-details span { font-size: 1.1rem; white-space: normal; min-width: auto; }
  .transaction-amount-wrapper { width: 100%; display: flex; justify-content: space-between; align-items: center; margin-top: 15px; padding-top: 15px; border-top: 1px dashed #eee; }
  .transaction-amount { font-size: 1.3rem; order: 2; }
  .paid-status-wrapper { transform: scale(1.3); margin-left: 5px; order: 1; }
  .mobile-checkbox-label { display: inline-block; }
  .transaction-actions { position: absolute; top: 15px; right: 15px; }
  .delete-button { opacity: 1; background-color: #fef2f2; color: var(--expense-color); border-radius: 8px; width: 34px; height: 34px; }

  /* MODAL MOBILE */
  .mobile-modal-content { padding: 20px; width: 95%; max-height: 90vh; overflow-y: auto; border-radius: 16px; }
  .mobile-modal-content ul { list-style: none !important; padding: 0 !important; }
  
  /* LISTAS NO MOBILE */
  .mobile-modal-content li { 
      border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 10px; padding: 15px; background: #fff; 
      display: flex; flex-direction: column; align-items: flex-start; position: relative; gap: 5px;
  }
  .category-name-wrapper { width: 100%; margin-bottom: 5px; font-size: 1.1rem; }
  .category-list .delete-button { position: absolute; top: 15px; right: 15px; opacity: 1; }

  /* METAS NO MOBILE */
  .mobile-modal-content .goal-progress-item {
      display: flex !important;
      flex-direction: column !important;
      gap: 10px;
  }
  .goal-item-header {
      flex-direction: row; 
      justify-content: space-between;
      align-items: center;
      width: 100%;
  }
  .goal-item-actions { margin-left: auto; }
  .goal-progress-bar-container {
      display: block !important;
      width: 100%;
      height: 8px;
      margin: 5px 0;
  }

  /* --- CORREÇÃO DA EDIÇÃO DE CATEGORIA (QUADRADO NO MOBILE) --- */
  .edit-category-inline-form { 
      display: grid !important; 
      grid-template-columns: 1fr 50px; /* 1 parte texto, 50px fixo cor */
      gap: 15px; 
      align-items: center; 
      width: 100%;
  }
  .edit-category-inline-form input[type="text"] { 
      width: 100%; 
      margin: 0; 
  }
  .edit-category-inline-form .edit-category-color-picker { 
      width: 100%; /* Ocupa os 50px da coluna */
      height: 46px; /* Mesma altura do input */
      border-radius: 8px; 
      border: 1px solid var(--border-color); 
      padding: 2px; 
      margin: 0;
  }

  /* Grid para formulário de adicionar categoria */
  .category-form { display: grid !important; grid-template-columns: 1fr 50px; gap: 10px; align-items: center; }
  .category-form input[type="text"] { width: 100%; margin: 0; grid-column: 1 / 2; }
  .category-form input[type="color"] { width: 100%; height: 46px; margin: 0; padding: 0; grid-column: 2 / 3; }
  .category-form .submit-button { grid-column: 1 / -1; margin-top: 5px; }

  /* FAB */
  .fab-container { display: flex; flex-direction: column; align-items: flex-end; position: fixed; bottom: 25px; right: 25px; z-index: 100; gap: 15px; max-width: 100vw; }
  .mobile-fab { width: 60px; height: 60px; background-color: var(--primary-color); color: white; border: none; border-radius: 50%; font-size: 2rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(106, 130, 251, 0.4); cursor: pointer; transition: transform 0.2s; }
  .fab-container.open .mobile-fab { background-color: var(--expense-color); transform: rotate(45deg); }
  .fab-menu-items { display: flex; flex-direction: column; align-items: flex-end; gap: 12px; }
  .fab-item { display: flex; align-items: center; gap: 10px; animation: fadeInUp 0.2s ease-out forwards; }
  .fab-label { background: white; padding: 6px 12px; border-radius: 8px; font-weight: 600; box-shadow: var(--shadow-sm); }
  .fab-icon-small { width: 45px; height: 45px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-md); color: var(--primary-color); }
  @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

  /* Relatórios */
  .report-grid, .report-summary-grid { grid-template-columns: 1fr; }
  .report-header { flex-direction: column; align-items: stretch; }
  .report-total { margin-top: 10px; }
}